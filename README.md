# ğŸ” Secure File Share

Secure File Share is a web application built with **React**, **AWS Cognito**, and **Amazon S3** that enables authenticated users to upload files securely and share them using a secret key. Guest users can download shared files using a valid email and secret key.



---

## ğŸš€ Features

- ğŸ” **User Authentication** via AWS Cognito (supports Google Sign-In)
- â˜ï¸ **Upload Files** securely to Amazon S3
- ğŸ”‘ **Download Files** using shared secret key
- ğŸ‘¤ Role-based access:
  - Authenticated users: Upload & download
  - Guests: Download only
- ğŸ’¬ Informative messages and upload feedback
- ğŸ›¡ï¸ Secure identity-based access via Cognito Identity Pools
- ğŸŒˆ Responsive, colorful UI using custom CSS

---

## ğŸ“¸ Screenshots

| Authenticated Upload | Guest Download |
|----------------------|----------------|
| ![Upload Screenshot](./screenshots/upload.png) | ![Download Screenshot](./screenshots/download.png) |

---

## ğŸ§© Tech Stack

- **Frontend**: React, JavaScript, CSS
- **Authentication**: AWS Cognito (User Pool + Identity Pool)
- **Storage**: Amazon S3
- **OIDC**: react-oidc-context

---

## ğŸ› ï¸ Setup Instructions

### Prerequisites

- Node.js (>= 16.x)
- AWS Account
- GitHub account
- Amazon S3 bucket
- Cognito User Pool and Identity Pool configured

### 1. Clone the Repository

```bash
git clone https://github.com/DeepikaSidda/SecureFileShare.git
cd SecureFileShare/sharemyfile

## ğŸš€ Install Dependencies

```bash
npm install

2ï¸âƒ£ Environment Configuration
Create a .env file inside the sharemyfile directory with the following environment variables:

env
Copy
Edit
VITE_COGNITO_USER_POOL_ID=your_user_pool_id
VITE_COGNITO_USER_POOL_CLIENT_ID=your_user_pool_client_id
VITE_COGNITO_USER_POOL_DOMAIN=https://your-cognito-domain.auth.region.amazoncognito.com
VITE_COGNITO_IDENTITY_POOL_ID=your_identity_pool_id
VITE_REGION=your_aws_region
VITE_S3_BUCKET=your_s3_bucket_name
3ï¸âƒ£ Run the App Locally
bash
Copy
Edit
npm run dev
Then open http://localhost:5173 in your browser.

ğŸ§  Architecture Overview
ğŸ” AWS Cognito
User Pool: Handles user authentication and registration.

Identity Pool: Grants temporary AWS credentials to users.

Google Sign-In: Configured as a federated identity provider.

ğŸ“œ IAM Roles & Permissions
Authenticated Role: Grants permissions to PutObject and GetObject in the S3 bucket.

Guest Role: Grants read-only GetObject permission to the bucket.

ğŸª£ Amazon S3 Bucket
âœ… CORS Configuration
xml
Copy
Edit
<CORSConfiguration>
  <CORSRule>
    <AllowedOrigin>http://localhost:5173</AllowedOrigin>
    <AllowedMethod>GET</AllowedMethod>
    <AllowedMethod>PUT</AllowedMethod>
    <AllowedHeader>*</AllowedHeader>
  </CORSRule>
</CORSConfiguration>
Note: Update AllowedOrigin to your Amplify or production domain post-deployment.

ğŸ” Bucket Policy
Ensure that IAM roles generated by Cognito have the right permissions to access S3 objects.

ğŸ“‚ File Naming Convention
Uploaded files are stored with the format:

scss
Copy
Edit
base64(email) + secret + .extension
This approach ensures:

Unique file names

Controlled access using the email + secret key

ğŸ› ï¸ Tech Stack
Frontend: Vite + React

Authentication: AWS Cognito

Storage: Amazon S3



Permissions: AWS IAM

